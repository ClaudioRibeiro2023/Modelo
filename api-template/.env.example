# TechDados BFF - Environment Variables
# Copy this file to .env and adjust values as needed

# ═══════════════════════════════════════════════════════════════
# AUTHENTICATION
# ═══════════════════════════════════════════════════════════════

# Auth mode: mock | keycloak | disabled
TD_AUTH_MODE=mock

# Mock user (when TD_AUTH_MODE=mock)
TD_MOCK_USER_ID=dev
TD_MOCK_ROLES=admin,estrategico
TD_MOCK_SCOPES=STATE:MG

# Keycloak (when TD_AUTH_MODE=keycloak)
TD_KEYCLOAK_ISSUER_URL=http://localhost:8080/realms/techdados
TD_KEYCLOAK_AUDIENCE=techdados-bff

# ═══════════════════════════════════════════════════════════════
# UPSTREAM PROVIDER (Techdengue API)
# ═══════════════════════════════════════════════════════════════

TD_PROVIDER_ENABLED=false
TD_PROVIDER_BASE_URL=https://api.techdengue.example.com
TD_PROVIDER_TIMEOUT_S=15
TD_PROVIDER_RETRY=2

# ═══════════════════════════════════════════════════════════════
# CACHE
# ═══════════════════════════════════════════════════════════════

TD_CACHE_ENABLED=true
TD_CACHE_TTL_HOME_S=1800
TD_CACHE_TTL_EPI_S=3600
TD_CACHE_TTL_RISK_S=1800
TD_CACHE_TTL_WEATHER_S=900
TD_CACHE_TTL_REF_S=86400
TD_CACHE_TTL_STATUS_S=120

# ═══════════════════════════════════════════════════════════════
# CIRCUIT BREAKER
# ═══════════════════════════════════════════════════════════════

TD_CB_FAIL_THRESHOLD=5
TD_CB_COOLDOWN_S=60

# ═══════════════════════════════════════════════════════════════
# AUDIT / OBSERVABILITY
# ═══════════════════════════════════════════════════════════════

TD_AUDIT_ENABLED=true

# ═══════════════════════════════════════════════════════════════
# CORS (comma-separated origins)
# ═══════════════════════════════════════════════════════════════

TD_CORS_ORIGINS=http://localhost:13000,http://127.0.0.1:13000

# ═══════════════════════════════════════════════════════════════
# VERSION
# ═══════════════════════════════════════════════════════════════

TD_BFF_VERSION=1.0.0
